# Настройка VKID авторизации для ShiftMate

## Шаг 1: Создание приложения ВКонтакте

1. Перейдите на [vk.com/dev](https://vk.com/dev)
2. Войдите в свой аккаунт ВКонтакте
3. Нажмите "Создать приложение"
4. Заполните форму:
   - **Название**: ShiftMate
   - **Платформа**: Standalone-приложение
   - **Адрес сайта**: `https://wbcalcullatesborka-git-main-andrews-projects-e7aff3e9.vercel.app/`
   - **Базовый домен**: `wbcalcullatesborka-git-main-andrews-projects-e7aff3e9.vercel.app`

## Шаг 2: Получение App ID

1. После создания приложения вы получите **App ID** (числовой идентификатор)
2. В вашем случае это: `53787324`
3. Этот ID уже настроен в файле `src/vkAuth.js`:

```javascript
const VK_APP_ID = '53787324'; // Ваш VK App ID
```

## Шаг 3: Настройка доменов

### Для продакшена:
- **Адрес сайта**: `https://wbcalcullatesborka-git-main-andrews-projects-e7aff3e9.vercel.app/`
- **Базовый домен**: `wbcalcullatesborka-git-main-andrews-projects-e7aff3e9.vercel.app`

### Для разработки (если нужно):
- **Адрес сайта**: `http://localhost:3000`
- **Базовый домен**: `localhost`

## Шаг 4: Настройка прав доступа

В настройках приложения ВКонтакте включите следующие права:
- `email` - доступ к email пользователя (уже настроено в коде)

## Шаг 5: Тестирование

1. Запустите приложение: `npm start`
2. Откройте браузер и перейдите на ваш домен
3. Нажмите "Войти через ВКонтакте"
4. Разрешите доступ приложению

## Как работает новая авторизация

### VKID SDK vs Старый VK API

**Новый VKID SDK:**
- ✅ Более современный и безопасный
- ✅ Поддерживает OneTap авторизацию
- ✅ Лучшая интеграция с React
- ✅ Автоматическая обработка токенов

**Основные отличия:**
- Использует `VKIDSDK` вместо `VK`
- Авторизация через OneTap виджет
- Автоматический обмен кода на токен
- Более простая обработка ошибок

## Возможные проблемы

### Ошибка "VKID SDK не загрузился"
- Проверьте подключение к интернету
- Убедитесь, что домен правильно настроен в VK
- Проверьте консоль браузера на наличие ошибок

### Ошибка "Авторизация была отменена"
- Пользователь отменил авторизацию
- Попробуйте войти снова

### Ошибка "Не удалось получить данные пользователя"
- Проверьте настройки прав доступа в VK
- Убедитесь, что App ID правильный

### Ошибка "Ошибка авторизации через ВКонтакте"
- Проверьте настройки приложения в VK
- Убедитесь, что домен добавлен в разрешенные

## Безопасность

- Никогда не публикуйте App ID в публичных репозиториях
- Используйте переменные окружения для продакшена
- Регулярно проверяйте настройки безопасности в VK

## Переменные окружения (рекомендуется)

Создайте файл `.env`:
```
REACT_APP_VK_APP_ID=53787324
REACT_APP_VK_REDIRECT_URL=https://wbcalcullatesborka-git-main-andrews-projects-e7aff3e9.vercel.app/
```

И обновите `src/vkAuth.js`:
```javascript
const VK_APP_ID = process.env.REACT_APP_VK_APP_ID || '53787324';
const VK_REDIRECT_URL = process.env.REACT_APP_VK_REDIRECT_URL || 'https://wbcalcullatesborka-git-main-andrews-projects-e7aff3e9.vercel.app/';
```

## Дополнительная информация

- [Документация VKID SDK](https://vk.com/dev/vkid)
- [VKID Auth API](https://vk.com/dev/auth_sites)
- [VKID OneTap](https://vk.com/dev/vkid_onetap)

## Поддержка

Если у вас возникли проблемы с настройкой VKID:
1. Проверьте документацию VKID SDK
2. Убедитесь в правильности всех настроек
3. Проверьте консоль браузера на наличие ошибок
4. Убедитесь, что домен правильно настроен в VK приложении 